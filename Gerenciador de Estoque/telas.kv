ScreenManager:
    LoginScreen:
    EstoqueScreen:
    AnaliseScreen:
    MovimentacoesScreen:
    ConfiguracoesScreen:
    CadastroProdutoScreen:
    EntradaProdutoScreen:
    SaidaProdutoScreen:


<LoginScreen>
    name: 'Tela de Login'
    MDScreen:
        MDFloatLayout:
            orientation: 'vertical'
            md_bg_color: (221/255, 240/255, 219/255, 1)

            FitImage:
                source:'Images/homem.png'
                size_hint: None, None
                size: ('150dp','150dp')
                pos_hint: {'center_x': 0.5,'center_y': 0.75}


            MDTextField:
                id: email_input
                mode: 'outlined'
                pos_hint: {"center_x": 0.5, "center_y": 0.52}
                size_hint: 0.7, None
                theme_line_color: "Custom"
                line_color_normal: (209/255, 209/255, 209/255, 1)
                on_text: root.verify_dominion_email(self)

                MDTextFieldHelperText:
                    text: 'O domínio deve ser @ufrpe.br'


                MDTextFieldHintText:
                    text: "Email"
                    theme_font_name: 'Custom'
                    font_name: 'Fonts/Poppins-Regular.ttf'


            MDTextField:
                id: password_input
                mode: 'outlined'
                pos_hint: {"center_x": 0.5, "center_y": 0.38}
                text_size: '10dp'
                password: True
                size_hint: 0.7, None
                theme_line_color: "Custom"
                line_color_normal: (209/255, 209/255, 209/255, 1)
                on_text: root.verify_password(self)
                erro: root.invalid_password(self.text) != True

                MDTextFieldHelperText:
                    text: "A senha deve ter 6 caracteres"

                MDTextFieldHintText:
                    text: "Senha"
                    theme_font_name: 'Custom'
                    font_name: 'Fonts/Poppins-Regular.ttf'


            MDButton:
                id: 'entrar_button'
                style: "filled"
                theme_width: "Custom"
                height: "40dp"
                size_hint_x: .38
                pos_hint: {'center_x': 0.5,'center_y': 0.25}
                theme_bg_color: 'Custom'
                md_bg_color: (46/255, 139/255, 87/255, 1)
                on_release: root.sign_in_button(email_input.text, password_input.text)


                MDButtonText:
                    theme_font_name: 'Custom'
                    font_name: 'Fonts/Poppins-Bold.ttf'
                    text_color: (1,1,1,1)
                    text: "Entrar"
                    pos_hint: {"center_x": .5, "center_y": .5}


            MDButton:
                id: 'registrar_button'
                style: "filled"
                theme_width: "Custom"
                height: "40dp"
                size_hint_x: .38
                pos_hint: {'center_x': 0.5,'center_y': 0.17}
                theme_bg_color: 'Custom'
                md_bg_color: (46/255, 139/255, 87/255, 1)
                on_release: root.sign_up_button(email_input.text, password_input.text)

                MDButtonText:
                    theme_font_name: 'Custom'
                    font_name: 'Fonts/Poppins-Bold.ttf'
                    text_color: (1,1,1,1)
                    text: "Registrar"
                    pos_hint: {"center_x": .5, "center_y": .5}
                
            

                    

<EstoqueScreen>
    name: 'Tela de Estoque'
    MDScreen:
        md_bg_color: (174/255,209/255,200/255,1)
        MDBoxLayout:
            id: main_box
            md_bg_color: (179/255,209/255,200/255,1)
            orientation: 'vertical'

            MDTopAppBar:
                type: 'small'
                theme_text_color: 'Custom'
                font_name: 'Fonts/Poppins-Bold.ttf'
                theme_bg_color: "Custom"
                md_bg_color: "#AED1C8"
                theme_icon_color: "Custom"
                icon_color: "#2C4A44"
                canvas.after:
                    Color: 
                        rgba: 46/255, 139/255, 87/255, 1  
                    Line:
                        width: 2  
                        points: [self.x, self.y, self.right, self.y]

                MDTopAppBarTitle:
                    text: "Estoque"
                    text_color: ('#2C4A44')
                    theme_font_name: 'Custom'
                    font_name: 'Fonts/Poppins-Bold.ttf'


                MDTopAppBarTrailingButtonContainer:
                    MDActionTopAppBarButton:

                        icon: 'autorenew'
                        on_release: root.update_list_estoque()
                    MDActionTopAppBarButton:

                        icon: 'plus'
                        on_release: root.manager.current='Tela de Cadastro de Produtos'
                    MDActionTopAppBarButton:

                        icon: 'arrow-up'
                        on_release: root.manager.current='Tela de Entrada de Produtos'
                    MDActionTopAppBarButton:

                        icon: 'arrow-down'
                        on_release: root.manager.current='Tela de Saida de Produtos'


            MDBoxLayout:
                orientation: 'horizontal'
                padding: [10,0,10,0]
                md_bg_color: (174/255,209/255,200/255,1)

                MDScrollView:
                    MDList:
                        id: main_scroll
                        spacing: '10dp'


            MDNavigationBar:
                theme_text_color: 'Custom'
                font_name: 'Fonts/Poppins-Bold.ttf'
                theme_bg_color: "Custom"
                md_bg_color: "#AED1C8"
                theme_icon_color: "Custom"
                icon_color: "#2C4A44"
                canvas.after:
                    Color:
                        rgba: 46/255, 139/255, 87/255, 1
                MDNavigationItem:
                    indicator_color: (0,0,0,0)
                    on_release: root.manager.current='Tela de Analise'
                    MDNavigationItemIcon:
                        icon:'chart-bar'
                    MDNavigationItemLabel:
                        text: 'Análise'
                        theme_font_name: 'Custom'
                        font_name: 'Fonts/Poppins-Regular.ttf'

                MDNavigationItem:
                    indicator_color: (0,0,0,0)
                    on_release: root.manager.current='Tela de Movimentacoes'
                    MDNavigationItemIcon:
                        icon: 'truck'
                    MDNavigationItemLabel:
                        text: 'Movimentações'
                        theme_font_name: 'Custom'
                        font_name: 'Fonts/Poppins-Regular.ttf'

                MDNavigationItem:
                    indicator_color: (0,0,0,0)
                    on_release: root.manager.current='Tela de Configuracoes'
                    MDNavigationItemIcon:
                        icon: 'cog'
                    MDNavigationItemLabel:
                        text: 'Configurações'
                        theme_font_name: 'Custom'
                        font_name: 'Fonts/Poppins-Regular.ttf'


<AnaliseScreen>
    name: 'Tela de Analise'
    MDScreen:
        md_bg_color: (174/255,209/255,200/255,1)
        MDBoxLayout:
            md_bg_color: (179/255,209/255,200/255,1)
            orientation: 'vertical'

            MDTopAppBar:
                type: 'small'
                theme_bg_color: "Custom"
                md_bg_color: "#AED1C8"
                canvas.after:
                    Color:
                        rgba: 46/255, 139/255, 87/255, 1
                    Line:
                        width: 2
                        points: [self.x, self.y, self.right, self.y]

                MDTopAppBarLeadingButtonContainer:
                    MDActionTopAppBarButton:
                        icon: "arrow-left"
                        on_release: root.manager.current='Tela de Estoque'

                MDTopAppBarTitle:
                    text: "Análise"
                    text_color: ('#2C4A44')
                    theme_font_name: 'Custom'
                    font_name: 'Fonts/Poppins-Bold.ttf'

            MDBoxLayout:
                orientation: 'vertical'
                MDLabel:
                    halign: 'center'
                    md_bg_color: (179/255,209/255,200/255,1)
                    text: 'Entradas e Saídas'
                    text_color: ('#2C4A44')
                    theme_font_name: 'Custom'
                    font_name: 'Fonts/Poppins-Bold.ttf'
                    size_hint_y: 0.2

                FitImage:
                    source: "Images/ring_graphic.png"
                    size_hint: (None, None)
                    size: '300dp','300dp'
                    pos_hint: {'center_x': 0.5,'center_y': 0.5}
                    
                MDBoxLayout:
                    orientation: 'horizontal'
                    size_hint_y: 0.3
                    MDFloatLayout:
                        MDIcon:
                            icon: 'arrow-up-drop-circle'
                            icon_color: '#2F47ED'
                            pos_hint: {'center_x': 0.8,'center_y': 0.54}
                            

                    MDLabel:
                        text: "Entrada"
                        halign: 'left'
                        text_color: ('#2C4A44')
                        theme_font_name: 'Custom'
                        font_name: 'Fonts/Poppins-Bold.ttf'
                        size_hint_x: 0.75

                    MDFloatLayout:
                        size_hint_x: 0.8
                        MDIcon:
                            icon: 'arrow-down-drop-circle'
                            icon_color: '#ED3A3A'
                            pos_hint: {'center_x': 0.8,'center_y': 0.54}

                    MDLabel:
                        text: "Saída"
                        halign: 'left'
                        text_color: ('#2C4A44')
                        theme_font_name: 'Custom'
                        font_name: 'Fonts/Poppins-Bold.ttf'

                MDFloatLayout:
                    md_bg_color: (179/255,209/255,200/255,1)
                    orientation: 'vertical'
                    size_hint_y: 0.5
                    MDButton:
                        id: 'entrar_button'
                        style: "filled"
                        theme_width: "Custom"
                        size_hint: (None, None)
                        size: '200dp','50dp'
                        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                        theme_bg_color: 'Custom'
                        md_bg_color: (46/255, 139/255, 87/255, 1)
                        on_release: root.shortly()

                        MDButtonText:
                            theme_font_name: 'Custom'
                            font_name: 'Fonts/Poppins-Bold.ttf'
                            text_color: (1,1,1,1)
                            text: "Gerar PDF"
                            pos_hint: {"center_x": .5, "center_y": .5}
        
                    



<MovimentacoesScreen>
    name: 'Tela de Movimentacoes'
    MDScreen:
        md_bg_color: (174/255,209/255,200/255,1)
        MDBoxLayout:
            md_bg_color: (179/255,209/255,200/255,1)
            orientation: 'vertical'

            MDTopAppBar:
                type: 'small'
                theme_bg_color: "Custom"
                md_bg_color: "#AED1C8"
                canvas.after:
                    Color:
                        rgba: 46/255, 139/255, 87/255, 1
                    Line:
                        width: 2
                        points: [self.x, self.y, self.right, self.y]

                MDTopAppBarLeadingButtonContainer:
                    MDActionTopAppBarButton:
                        icon: "arrow-left"
                        on_release: root.manager.current='Tela de Estoque'

                MDTopAppBarTitle:
                    text: "Movimentações"
                    text_color: ('#2C4A44')
                    theme_font_name: 'Custom'
                    font_name: 'Fonts/Poppins-Bold.ttf'

            MDBoxLayout:
                orientation: 'horizontal'
                padding: [10,0,10,0]
                md_bg_color: (174/255,209/255,200/255,1)


<ConfiguracoesScreen>
    name: 'Tela de Configuracoes'
    MDScreen:
        md_bg_color: (174/255,209/255,200/255,1)
        MDBoxLayout:
            md_bg_color: (179/255,209/255,200/255,1)
            orientation: 'vertical'

            MDTopAppBar:
                type: 'small'
                theme_bg_color: "Custom"
                md_bg_color: "#AED1C8"
                canvas.after:
                    Color:
                        rgba: 46/255, 139/255, 87/255, 1
                    Line:
                        width: 2
                        points: [self.x, self.y, self.right, self.y]

                MDTopAppBarLeadingButtonContainer:
                    MDActionTopAppBarButton:
                        icon: "arrow-left"
                        on_release: root.manager.current='Tela de Estoque'

                MDTopAppBarTitle:
                    text: "Configurações"
                    text_color: ('#2C4A44')
                    theme_font_name: 'Custom'
                    font_name: 'Fonts/Poppins-Bold.ttf'

            MDFloatLayout:
                orientation: 'horizontal'
                md_bg_color: (174/255,209/255,200/255,1)

                MDButton:
                    id: 'entrar_button'
                    style: "filled"
                    theme_width: "Custom"
                    height: "40dp"
                    size_hint_x: .38
                    pos_hint: {'center_x': 0.5,'center_y': 0.55}
                    theme_bg_color: 'Custom'
                    md_bg_color: (46/255, 139/255, 87/255, 1)
                    on_release: root.logout()

                    MDButtonText:
                        theme_font_name: 'Custom'
                        font_name: 'Fonts/Poppins-Bold.ttf'
                        text_color: (1,1,1,1)
                        text: "Sair"
                        pos_hint: {"center_x": .5, "center_y": .5}

                MDButton:
                    id: 'entrar_button'
                    style: "filled"
                    theme_width: "Custom"
                    height: "40dp"
                    size_hint_x: .38
                    pos_hint: {'center_x': 0.5,'center_y': 0.45}
                    theme_bg_color: 'Custom'
                    md_bg_color: (46/255, 139/255, 87/255, 1)
                    on_release: root.close_app()

                    MDButtonText:
                        theme_font_name: 'Custom'
                        font_name: 'Fonts/Poppins-Bold.ttf'
                        text_color: (1,1,1,1)
                        text: "Fechar App"
                        pos_hint: {"center_x": .5, "center_y": .5}

                FitImage:
                    source: 'Images/object.png'
                    size_hint: None, None
                    size: '360dp','174dp'
                    pos_hint: {'center_x': 0.5,'center_y': 0.15}


<CadastroProdutoScreen>
    name: 'Tela de Cadastro de Produtos'
    MDScreen:
        md_bg_color: (174/255,209/255,200/255,1)
        MDBoxLayout:
            md_bg_color: (179/255,209/255,200/255,1)
            orientation: 'vertical'

            MDTopAppBar:
                type: 'small'
                theme_bg_color: "Custom"
                md_bg_color: "#AED1C8"
                canvas.after:
                    Color:
                        rgba: 46/255, 139/255, 87/255, 1
                    Line:
                        width: 2
                        points: [self.x, self.y, self.right, self.y]

                MDTopAppBarLeadingButtonContainer:
                    MDActionTopAppBarButton:
                        icon: "arrow-left"
                        on_release: root.manager.current='Tela de Estoque'

                MDTopAppBarTitle:
                    text: "Cadastro de Produtos"
                    text_color: ('#2C4A44')
                    theme_font_name: 'Custom'
                    font_name: 'Fonts/Poppins-Bold.ttf'

            MDBoxLayout:
                orientation: 'vertical'
                spacing: '15dp'
                padding: ('10dp', '30dp', '10dp', '10dp')
                size_hint_y: 40
                md_bg_color: (174/255,209/255,200/255,1)

                MDTextField:
                    id: product_name_input
                    mode: 'outlined'
                    pos_hint: {'center_x': 0.5,'center_y': 0.0}
                    size_hint: 0.9, None
                    theme_line_color: "Custom"
                    line_color_normal: (209/255, 209/255, 209/255, 1)
                    padding: [0,10,0,10]
                    on_text: root.existing_name_check(self)

                    MDTextFieldHintText:
                        text: "Nome"
                        theme_font_name: 'Custom'
                        font_name: 'Fonts/Poppins-Regular.ttf'
                MDTextField:
                    id: product_code_input
                    mode: 'outlined'
                    pos_hint: {'center_x': 0.5,'center_y': 0.0}
                    size_hint: 0.9, None
                    theme_line_color: "Custom"
                    line_color_normal: (209/255, 209/255, 209/255, 1)
                    padding: [0,10,0,10]
                    on_text: root.existing_name_check(self)

                    MDTextFieldHintText:
                        text: "Código"
                        theme_font_name: 'Custom'
                        font_name: 'Fonts/Poppins-Regular.ttf'
                MDTextField:
                    id: product_qt_input
                    mode: 'outlined'
                    pos_hint: {'center_x': 0.5,'center_y': 0.0}
                    size_hint: 0.9, None
                    theme_line_color: "Custom"
                    line_color_normal: (209/255, 209/255, 209/255, 1)
                    padding: [0,10,0,10]
                    on_text: root.existing_name_check(self)

                    MDTextFieldHintText:
                        text: "Quantidade em Estoque"
                        theme_font_name: 'Custom'
                        font_name: 'Fonts/Poppins-Regular.ttf'

                MDTextField:
                    id: product_unit_input
                    mode: 'outlined'
                    pos_hint: {'center_x': 0.5,'center_y': 0.0}
                    size_hint: 0.9, None
                    theme_line_color: "Custom"
                    line_color_normal: (209/255, 209/255, 209/255, 1)
                    padding: [0,10,0,10]
                    on_text: root.existing_name_check(self)

                    MDTextFieldHintText:
                        text: "Unidade de Medida"
                        theme_font_name: 'Custom'
                        font_name: 'Fonts/Poppins-Regular.ttf'

                MDTextField:
                    id: product_report_input
                    mode: 'outlined'
                    pos_hint: {'center_x': 0.5,'center_y': 0.0}
                    size_hint: 0.9, None
                    theme_line_color: "Custom"
                    line_color_normal: (209/255, 209/255, 209/255, 1)
                    padding: [0,10,0,10]
                    on_text: root.existing_name_check(self)

                    MDTextFieldHintText:
                        text: "Motivo"
                        halign: 'center'
                        theme_font_name: 'Custom'
                        font_name: 'Fonts/Poppins-Regular.ttf'
            MDFloatLayout:
                size_hint_y: 24
                md_bg_color: (174/255,209/255,200/255,1)

                MDButton:
                    id: 'entrar_button'
                    style: "filled"
                    theme_width: "Custom"
                    height: "40dp"
                    size_hint_x: .8
                    pos_hint: {'center_x': 0.5,'center_y': 0.43}
                    theme_bg_color: 'Custom'
                    md_bg_color: (81/255, 115/255, 110/255, 1)
                    on_release: root.save_and_continue(product_name_input.text, product_code_input.text, product_qt_input.text, product_unit_input.text, product_report_input.text)

                    MDButtonText:
                        theme_font_name: 'Custom'
                        font_name: 'Fonts/Poppins-Bold.ttf'
                        text_color: (1,1,1,1)
                        text: "Salvar e continuar na página"
                        pos_hint: {"center_x": .5, "center_y": .5}

                MDButton:
                    id: 'entrar_button'
                    style: "filled"
                    theme_width: "Custom"
                    height: "40dp"
                    size_hint_x: .8
                    pos_hint: {'center_x': 0.5,'center_y': 0.2}
                    theme_bg_color: 'Custom'
                    md_bg_color: (46/255, 139/255, 87/255, 1)
                    on_release: root.save_and_exit(product_name_input.text, product_code_input.text, product_qt_input.text, product_unit_input.text, product_report_input.text)

                    MDButtonText:
                        theme_font_name: 'Custom'
                        font_name: 'Fonts/Poppins-Bold.ttf'
                        text_color: (1,1,1,1)
                        text: "Salvar e sair da página"
                        pos_hint: {"center_x": .5, "center_y": .5}



<EntradaProdutoScreen>
    name: 'Tela de Entrada de Produtos'
    MDScreen:
        md_bg_color: (174/255,209/255,200/255,1)
        MDBoxLayout:
            md_bg_color: (179/255,209/255,200/255,1)
            orientation: 'vertical'

            MDTopAppBar:
                type: 'small'
                theme_bg_color: "Custom"
                md_bg_color: "#AED1C8"
                canvas.after:
                    Color:
                        rgba: 46/255, 139/255, 87/255, 1
                    Line:
                        width: 2
                        points: [self.x, self.y, self.right, self.y]

                MDTopAppBarLeadingButtonContainer:
                    MDActionTopAppBarButton:
                        icon: "arrow-left"
                        on_release: root.manager.current='Tela de Estoque'

                MDTopAppBarTitle:
                    text: "Entrada de Produtos"
                    text_color: ('#2C4A44')
                    theme_font_name: 'Custom'
                    font_name: 'Fonts/Poppins-Bold.ttf'

            MDBoxLayout:
                orientation: 'horizontal'
                padding: [10,0,10,0]
                md_bg_color: (174/255,209/255,200/255,1)


<SaidaProdutoScreen>
    name: 'Tela de Saida de Produtos'
    MDScreen:
        md_bg_color: (174/255,209/255,200/255,1)
        MDBoxLayout:
            md_bg_color: (179/255,209/255,200/255,1)
            orientation: 'vertical'

            MDTopAppBar:
                type: 'small'
                theme_bg_color: "Custom"
                md_bg_color: "#AED1C8"
                canvas.after:
                    Color:
                        rgba: 46/255, 139/255, 87/255, 1
                    Line:
                        width: 2
                        points: [self.x, self.y, self.right, self.y]

                MDTopAppBarLeadingButtonContainer:
                    MDActionTopAppBarButton:
                        icon: "arrow-left"
                        on_release: root.manager.current='Tela de Estoque'

                MDTopAppBarTitle:
                    text: "Saída de Produtos"
                    text_color: ('#2C4A44')
                    theme_font_name: 'Custom'
                    font_name: 'Fonts/Poppins-Bold.ttf'

            MDBoxLayout:
                orientation: 'horizontal'
                padding: [10,0,10,0]
                md_bg_color: (174/255,209/255,200/255,1)
